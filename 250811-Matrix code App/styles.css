/*
  Matrix-style Profile Stream - styles.css
  - Pure CSS variables for quick theming and glow adjustments.
  - DOM capsules are rendered over the canvas and animated via transforms.
*/

:root {
  --bg: #000000;
  --green: #00ff66;
  --cyan: #00ffff;
  --magenta: #ff4dff;
  --active: var(--green);
  --glow: 0.6; /* 0..1 strength; JS updates filter based on this */
}

html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: var(--bg);
  color: var(--active);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  overflow: hidden;
}

#rain {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
  background: var(--bg);
}

/* Scanlines and flicker overlays */
.scanlines {
  pointer-events: none;
  position: fixed;
  inset: 0;
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.02) 0px,
    rgba(255,255,255,0.02) 1px,
    transparent 2px,
    transparent 3px
  );
  mix-blend-mode: overlay;
}
.flicker {
  pointer-events: none;
  position: fixed;
  inset: 0;
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.05), transparent 60%);
  animation: flicker 6s infinite;
}
@keyframes flicker {
  0%, 100% { opacity: 0.10; }
  50% { opacity: 0.20; }
  70% { opacity: 0.05; }
}

/* Capsules container */
#capsules {
  position: fixed;
  inset: 0;
  pointer-events: none;
}

.capsule {
  position: absolute;
  max-width: min(44ch, 40vw);
  color: var(--active);
  background: rgba(0,0,0,0.25);
  border: 1px solid currentColor;
  border-radius: 6px;
  padding: 8px 10px;
  line-height: 1.25;
  text-shadow: 0 0 calc(6px * var(--glow)) currentColor;
  filter: drop-shadow(0 0 calc(10px * var(--glow)) currentColor);
  transform: translate3d(0,0,0);
  white-space: pre-wrap;
  overflow: hidden;
}
.capsule .hdr {
  font-size: 10px;
  letter-spacing: 2px;
  opacity: 0.8;
  margin-bottom: 4px;
}
.capsule.json { }
.capsule.inline { }
.capsule.hex { font-size: 12px; }
.capsule .spark { margin-top: 4px; opacity: 0.9; }

/* Controls */
#controls.panel {
  position: fixed;
  right: 10px;
  top: 10px;
  background: rgba(0,0,0,0.45);
  border: 1px solid var(--active);
  border-radius: 8px;
  color: var(--active);
  padding: 8px 10px;
  backdrop-filter: blur(2px);
}
#controls .row {
  display: flex;
  gap: 10px;
  align-items: center;
  margin: 6px 0;
}
#controls .header { justify-content: space-between; }
#controls input[type="range"] { width: 140px; }
#controls button {
  pointer-events: auto;
  background: transparent;
  border: 1px solid currentColor;
  color: currentColor;
  padding: 4px 8px;
  border-radius: 4px;
  cursor: pointer;
}

/* FPS */
#fps {
  position: fixed;
  left: 8px;
  top: 8px;
  font-size: 11px;
  opacity: 0.0; /* toggled by JS */
}

/* Theme helpers toggled by JS */
.theme-green { --active: var(--green); }
.theme-cyan { --active: var(--cyan); }
.theme-magenta { --active: var(--magenta); }


